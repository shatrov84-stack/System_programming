# üöÄ **–£–†–û–ö 4: JOB-–û–ë–™–ï–ö–¢–´ WINDOWS ‚Äî –ì–†–£–ü–ü–û–í–û–ï –£–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–¶–ï–°–°–ê–ú–ò**

**–¶–µ–ª—å —É—Ä–æ–∫–∞:**  
–û—Å–≤–æ–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º Job-–æ–±—ä–µ–∫—Ç–æ–≤ Windows –¥–ª—è –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å "–ø–µ—Å–æ—á–Ω–∏—Ü—ã" –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–µ–Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∫–æ–¥–∞.

---

## üìö **–¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ê–Ø –ß–ê–°–¢–¨ (–ø–æ –∫–Ω–∏–≥–µ –ò–æ—Å–∏—Ñ–æ–≤–∏—á–∞)**

### **–°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:**
- **–ì–ª–∞–≤–∞ 4 (—Å—Ç—Ä–∞–Ω–∏—Ü—ã 86-95):** "Job Objects Basics" ‚Äî –æ—Å–Ω–æ–≤—ã Job-–æ–±—ä–µ–∫—Ç–æ–≤
- **–ì–ª–∞–≤–∞ 4 (—Å—Ç—Ä–∞–Ω–∏—Ü—ã 96-105):** "Job Limits and Restrictions" ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –∫–≤–æ—Ç—ã
- **–ì–ª–∞–≤–∞ 4 (—Å—Ç—Ä–∞–Ω–∏—Ü—ã 106-115):** "Job Security and Monitoring" ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

#### **1. –ß—Ç–æ —Ç–∞–∫–æ–µ Job-–æ–±—ä–µ–∫—Ç:**
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:** –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–∫ –µ–¥–∏–Ω—ã–º —Ü–µ–ª—ã–º
- **–û–±—ä–µ–∫—Ç —è–¥—Ä–∞:** –ö–∞–∫ –ø—Ä–æ—Ü–µ—Å—Å –∏–ª–∏ –ø–æ—Ç–æ–∫, –Ω–æ –¥–ª—è –≥—Ä—É–ø–ø—ã
- **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** –î–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Job —Ä–æ–¥–∏—Ç–µ–ª—è
- **–ò–∑–æ–ª—è—Ü–∏—è:** –ü—Ä–æ—Ü–µ—Å—Å—ã –≤ Job –Ω–µ –º–æ–≥—É—Ç "—Å–±–µ–∂–∞—Ç—å" –∏–∑ –Ω–µ–≥–æ

#### **2. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Job-–æ–±—ä–µ–∫—Ç–æ–≤:**
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:** CPU, –ø–∞–º—è—Ç—å, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Job
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –°–æ–±—ã—Ç–∏—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- **–ê–∫–∫–∞—É–Ω—Ç–∏–Ω–≥:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

#### **3. –¢–∏–ø—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (Job Limits):**
- **Basic Limits:** –ê–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏
- **Extended Limits:** –†–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä, –≤—Ä–µ–º—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞, –ø–∞–º—è—Ç—å
- **UI Restrictions:** –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º GUI
- **Security Limits:** –¢–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–∞, SID-–ª–∏—Å—Ç—ã

#### **4. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Job-–æ–±—ä–µ–∫—Ç–∞:**
```
–°–æ–∑–¥–∞–Ω–∏–µ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π ‚Üí –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚Üí
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Üí –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ ‚Üí –ó–∞–∫—Ä—ã—Ç–∏–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞
```

#### **5. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- **–ü–µ—Å–æ—á–Ω–∏—Ü—ã (Sandboxes):** –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ–Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∫–æ–¥–∞
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–ª—É–∂–±—ã:** –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–ª—É–∂–±
- **–ü–∞–∫–µ—Ç–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∑–∞–¥–∞—á
- **–ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Å–∏—Å—Ç–µ–º—É

---

## üìù **–ó–ê–î–ê–ù–ò–ï**

### **–ß–∞—Å—Ç—å 1: –¢–µ–æ—Ä–∏—è (–æ—Ç–≤–µ—Ç—å—Ç–µ –ø–∏—Å—å–º–µ–Ω–Ω–æ)**
1. –ß–µ–º Job-–æ–±—ä–µ–∫—Ç –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –ø—Ä–æ—Å—Ç–æ –≥—Ä—É–ø–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º?
2. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å –ø—Ä–æ—Ü–µ—Å—Å–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –±–æ–ª—å—à–µ –ø–æ—Ç–æ–∫–æ–≤, —á–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤ Job?
3. –ü–æ—á–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –º–æ–≥—É—Ç "—Å–±–µ–∂–∞—Ç—å" –∏–∑ Job-–æ–±—ä–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è?
4. –ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –Ω–∞–ª–æ–∂–∏—Ç—å —á–µ—Ä–µ–∑ Job-–æ–±—ä–µ–∫—Ç?
5. –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `JOB_OBJECT_LIMIT_KILL_ON_JOB_CLOSE` –∏ –∫–∞–∫–∏–µ —Ä–∏—Å–∫–∏ —ç—Ç–æ –Ω–µ—Å–µ—Ç?

### **–ß–∞—Å—Ç—å 2: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞**

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É "–ü–µ—Å–æ—á–Ω–∏—Ü–∞" –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–æ–≥—Ä–∞–º–º–µ:**
1. –°–æ–∑–¥–∞–Ω–∏–µ Job-–æ–±—ä–µ–∫—Ç–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
2. –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–Ω—É—Ç—Ä–∏ Job —Å –∏–∑–æ–ª—è—Ü–∏–µ–π
3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ Job
4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Job
5. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üíª **–ü–û–õ–ù–´–ô –ò–°–•–û–î–ù–´–ô –ö–û–î –ü–†–û–ì–†–ê–ú–ú–´**

```c
#define _CRT_SECURE_NO_WARNINGS
#define WIN32_LEAN_AND_MEAN

#include <windows.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <tchar.h>

// –î–ª—è —Ä–∞–±–æ—Ç—ã —Å Job Objects
#include <winternl.h>
#include <psapi.h>

#pragma comment(lib, "psapi.lib")

// –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π
void PrintMenu();
void CreateBasicJob();
void CreateJobWithLimits();
void MonitorJobResources();
void JobSecurityDemo();
void SandboxDemo();
void TerminateJobDemo();

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
void PrintError(const char* functionName, DWORD errorCode);
void SetJobLimit(HANDLE hJob, JOBOBJECT_BASIC_LIMIT_INFORMATION* limits);
void SetJobExtendedLimit(HANDLE hJob, JOBOBJECT_EXTENDED_LIMIT_INFORMATION* extLimits);
void PrintJobInfo(HANDLE hJob);

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
HANDLE g_hCurrentJob = NULL;
TCHAR g_JobName[256] = _T("DemoJob");

// –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
int main()
{
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Å–æ–ª–∏ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
    SetConsoleCP(1251);
    SetConsoleOutputCP(1251);
    
    _tprintf(_T("=== –£—Ç–∏–ª–∏—Ç–∞ —Ä–∞–±–æ—Ç—ã —Å Job-–æ–±—ä–µ–∫—Ç–∞–º–∏ Windows ===\n\n"));
    _tprintf(_T("Job-–æ–±—ä–µ–∫—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≥—Ä—É–ø–ø–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∫–∞–∫ –µ–¥–∏–Ω—ã–º —Ü–µ–ª—ã–º.\n"));
    _tprintf(_T("–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Å–æ—á–Ω–∏—Ü –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.\n\n"));
    
    int choice = 0;
    TCHAR input[10];
    
    while (1)
    {
        PrintMenu();
        _tprintf(_T("–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-8): "));
        
        if (_fgetts(input, sizeof(input) / sizeof(TCHAR), stdin) != NULL)
        {
            choice = _ttoi(input);
        }
        
        switch (choice)
        {
        case 1:
            CreateBasicJob();
            break;
        case 2:
            CreateJobWithLimits();
            break;
        case 3:
            MonitorJobResources();
            break;
        case 4:
            JobSecurityDemo();
            break;
        case 5:
            SandboxDemo();
            break;
        case 6:
            TerminateJobDemo();
            break;
        case 7:
            if (g_hCurrentJob)
            {
                PrintJobInfo(g_hCurrentJob);
            }
            else
            {
                _tprintf(_T("–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ Job-–æ–±—ä–µ–∫—Ç–∞.\n"));
            }
            break;
        case 8:
            // –û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º
            if (g_hCurrentJob)
            {
                _tprintf(_T("–ó–∞–∫—Ä—ã–≤–∞—é Job-–æ–±—ä–µ–∫—Ç...\n"));
                CloseHandle(g_hCurrentJob);
                g_hCurrentJob = NULL;
            }
            _tprintf(_T("–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã.\n"));
            return 0;
        default:
            _tprintf(_T("–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.\n"));
            break;
        }
        
        if (choice != 8)
        {
            _tprintf(_T("\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è..."));
            int ch;
            while ((ch = _gettchar()) != _T('\n') && ch != EOF);
        }
    }
    
    return 0;
}

// –§—É–Ω–∫—Ü–∏—è 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ Job-–æ–±—ä–µ–∫—Ç–∞
void CreateBasicJob()
{
    _tprintf(_T("\n=== –°–û–ó–î–ê–ù–ò–ï –ë–ê–ó–û–í–û–ì–û JOB-–û–ë–™–ï–ö–¢–ê ===\n\n"));
    
    if (g_hCurrentJob)
    {
        _tprintf(_T("–£–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π Job-–æ–±—ä–µ–∫—Ç. –ó–∞–∫—Ä—ã–≤–∞—é –µ–≥–æ...\n"));
        CloseHandle(g_hCurrentJob);
        g_hCurrentJob = NULL;
    }
    
    _tprintf(_T("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –¥–ª—è –Ω–æ–≤–æ–≥–æ Job-–æ–±—ä–µ–∫—Ç–∞: "));
    if (_fgetts(g_JobName, sizeof(g_JobName) / sizeof(TCHAR), stdin))
    {
        size_t len = _tcslen(g_JobName);
        if (len > 0 && g_JobName[len - 1] == _T('\n'))
        {
            g_JobName[len - 1] = _T('\0');
        }
    }
    
    // –°–æ–∑–¥–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    SECURITY_ATTRIBUTES sa;
    sa.nLength = sizeof(SECURITY_ATTRIBUTES);
    sa.lpSecurityDescriptor = NULL;
    sa.bInheritHandle = FALSE;
    
    // –°–æ–∑–¥–∞–µ–º Job-–æ–±—ä–µ–∫—Ç
    g_hCurrentJob = CreateJobObject(&sa, g_JobName);
    
    if (g_hCurrentJob == NULL)
    {
        PrintError("CreateJobObject", GetLastError());
        return;
    }
    
    _tprintf(_T("‚úì Job-–æ–±—ä–µ–∫—Ç '%s' —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!\n"), g_JobName);
    _tprintf(_T("   –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä: 0x%p\n"), g_hCurrentJob);
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–∞–∑–æ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
    JOBOBJECT_BASIC_LIMIT_INFORMATION basicLimits = { 0 };
    basicLimits.LimitFlags = JOB_OBJECT_LIMIT_ACTIVE_PROCESS | 
                            JOB_OBJECT_LIMIT_PRIORITY_CLASS;
    basicLimits.ActiveProcessLimit = 5;          // –ú–∞–∫—Å 5 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
    basicLimits.PriorityClass = NORMAL_PRIORITY_CLASS;
    
    if (!SetInformationJobObject(g_hCurrentJob, 
                                JobObjectBasicLimitInformation,
                                &basicLimits, 
                                sizeof(basicLimits)))
    {
        PrintError("SetInformationJobObject", GetLastError());
    }
    else
    {
        _tprintf(_T("   –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:\n"));
        _tprintf(_T("   ‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: %d\n"), basicLimits.ActiveProcessLimit);
        _tprintf(_T("   ‚Ä¢ –ö–ª–∞—Å—Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞: NORMAL\n"));
    }
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ Job
    JOBOBJECT_EXTENDED_LIMIT_INFORMATION extLimits = { 0 };
    extLimits.BasicLimitInformation.LimitFlags = 
        JOB_OBJECT_LIMIT_KILL_ON_JOB_CLOSE;
    
    if (!SetInformationJobObject(g_hCurrentJob, 
                                JobObjectExtendedLimitInformation,
                                &extLimits, 
                                sizeof(extLimits)))
    {
        PrintError("SetInformationJobObject (extended)", GetLastError());
    }
    else
    {
        _tprintf(_T("   ‚Ä¢ –ü—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ Job\n"));
    }
}

// –§—É–Ω–∫—Ü–∏—è 2: –°–æ–∑–¥–∞–Ω–∏–µ Job —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
void CreateJobWithLimits()
{
    _tprintf(_T("\n=== –°–û–ó–î–ê–ù–ò–ï JOB –° –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø–ú–ò –†–ï–°–£–†–°–û–í ===\n\n"));
    
    if (!g_hCurrentJob)
    {
        _tprintf(_T("–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ Job-–æ–±—ä–µ–∫—Ç (–ø—É–Ω–∫—Ç 1 –º–µ–Ω—é).\n"));
        return;
    }
    
    _tprintf(_T("–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è Job '%s':\n\n"), g_JobName);
    
    // 1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
    _tprintf(_T("1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è CPU:\n"));
    _tprintf(_T("   a) –ù–∞ –ø—Ä–æ—Ü–µ—Å—Å (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö): "));
    TCHAR cpuPerProcess[20];
    _fgetts(cpuPerProcess, sizeof(cpuPerProcess) / sizeof(TCHAR), stdin);
    DWORD cpuPerProcessSec = _ttoi(cpuPerProcess);
    
    _tprintf(_T("   b) –ù–∞ –≤–µ—Å—å Job (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö): "));
    TCHAR cpuPerJob[20];
    _fgetts(cpuPerJob, sizeof(cpuPerJob) / sizeof(TCHAR), stdin);
    DWORD cpuPerJobSec = _ttoi(cpuPerJob);
    
    // 2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –ø–∞–º—è—Ç–∏
    _tprintf(_T("\n2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:\n"));
    _tprintf(_T("   a) –ú–∞–∫—Å. —Ä–∞–±–æ—á–µ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (–≤ –ú–ë): "));
    TCHAR workingSet[20];
    _fgetts(workingSet, sizeof(workingSet) / sizeof(TCHAR), stdin);
    SIZE_T workingSetMB = _ttoi(workingSet) * 1024 * 1024;
    
    _tprintf(_T("   b) –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ (–≤ –ú–ë): "));
    TCHAR processMemory[20];
    _fgetts(processMemory, sizeof(processMemory) / sizeof(TCHAR), stdin);
    SIZE_T processMemoryMB = _ttoi(processMemory) * 1024 * 1024;
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    JOBOBJECT_EXTENDED_LIMIT_INFORMATION extLimits = { 0 };
    
    // –§–ª–∞–≥–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    extLimits.BasicLimitInformation.LimitFlags = 
        JOB_OBJECT_LIMIT_PROCESS_TIME |
        JOB_OBJECT_LIMIT_JOB_TIME |
        JOB_OBJECT_LIMIT_WORKINGSET |
        JOB_OBJECT_LIMIT_PROCESS_MEMORY |
        JOB_OBJECT_LIMIT_KILL_ON_JOB_CLOSE;
    
    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    if (cpuPerProcessSec > 0)
    {
        // –í—Ä–µ–º—è –≤ 100-–Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞—Ö
        extLimits.BasicLimitInformation.PerProcessUserTimeLimit.QuadPart = 
            cpuPerProcessSec * 10000000LL; // —Å–µ–∫—É–Ω–¥—ã ‚Üí 100ns
    }
    
    if (cpuPerJobSec > 0)
    {
        extLimits.BasicLimitInformation.PerJobUserTimeLimit.QuadPart = 
            cpuPerJobSec * 10000000LL;
    }
    
    if (workingSetMB > 0)
    {
        extLimits.BasicLimitInformation.MinimumWorkingSetSize = 1024 * 1024; // 1MB min
        extLimits.BasicLimitInformation.MaximumWorkingSetSize = workingSetMB;
    }
    
    if (processMemoryMB > 0)
    {
        extLimits.ProcessMemoryLimit = processMemoryMB;
        extLimits.BasicLimitInformation.LimitFlags |= JOB_OBJECT_LIMIT_PROCESS_MEMORY;
    }
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
    if (!SetInformationJobObject(g_hCurrentJob, 
                                JobObjectExtendedLimitInformation,
                                &extLimits, 
                                sizeof(extLimits)))
    {
        PrintError("SetInformationJobObject", GetLastError());
        return;
    }
    
    _tprintf(_T("\n‚úì –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:\n"));
    if (cpuPerProcessSec > 0)
        _tprintf(_T("   ‚Ä¢ CPU –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å: %lu —Å–µ–∫\n"), cpuPerProcessSec);
    if (cpuPerJobSec > 0)
        _tprintf(_T("   ‚Ä¢ CPU –Ω–∞ –≤–µ—Å—å Job: %lu —Å–µ–∫\n"), cpuPerJobSec);
    if (workingSetMB > 0)
        _tprintf(_T("   ‚Ä¢ –†–∞–±–æ—á–µ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ: %lu –ú–ë\n"), workingSetMB / (1024 * 1024));
    if (processMemoryMB > 0)
        _tprintf(_T("   ‚Ä¢ –ü–∞–º—è—Ç—å –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å: %lu –ú–ë\n"), processMemoryMB / (1024 * 1024));
    
    _tprintf(_T("\n–≠—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ –≤—Å–µ–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º –≤ Job.\n"));
}

// –§—É–Ω–∫—Ü–∏—è 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤ Job
void MonitorJobResources()
{
    _tprintf(_T("\n=== –ú–û–ù–ò–¢–û–†–ò–ù–ì –†–ï–°–£–†–°–û–í JOB ===\n\n"));
    
    if (!g_hCurrentJob)
    {
        _tprintf(_T("–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ Job-–æ–±—ä–µ–∫—Ç (–ø—É–Ω–∫—Ç 1 –º–µ–Ω—é).\n"));
        return;
    }
    
    // –ü–æ–ª—É—á–∞–µ–º –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
    JOBOBJECT_BASIC_ACCOUNTING_INFORMATION basicInfo = { 0 };
    if (!QueryInformationJobObject(g_hCurrentJob, 
                                  JobObjectBasicAccountingInformation,
                                  &basicInfo, 
                                  sizeof(basicInfo),
                                  NULL))
    {
        PrintError("QueryInformationJobObject", GetLastError());
        return;
    }
    
    // –ü–æ–ª—É—á–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
    JOBOBJECT_EXTENDED_LIMIT_INFORMATION extInfo = { 0 };
    if (!QueryInformationJobObject(g_hCurrentJob, 
                                  JobObjectExtendedLimitInformation,
                                  &extInfo, 
                                  sizeof(extInfo),
                                  NULL))
    {
        PrintError("QueryInformationJobObject (extended)", GetLastError());
        return;
    }
    
    _tprintf(_T("–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Job '%s':\n\n"), g_JobName);
    _tprintf(_T("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:\n"));
    _tprintf(_T("  –ê–∫—Ç–∏–≤–Ω—ã—Ö: %lu\n"), basicInfo.ActiveProcesses);
    _tprintf(_T("  –í—Å–µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö: %lu\n"), basicInfo.TotalTerminatedProcesses);
    
    _tprintf(_T("\n–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö):\n"));
    _tprintf(_T("  –í—Å–µ–≥–æ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Ä–µ–∂–∏–º–µ: %.2f\n"), 
             (double)basicInfo.TotalUserTime.QuadPart / 10000000.0);
    _tprintf(_T("  –í—Å–µ–≥–æ –≤ —è–¥—Ä–µ: %.2f\n"), 
             (double)basicInfo.TotalKernelTime.QuadPart / 10000000.0);
    
    _tprintf(_T("\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:\n"));
    _tprintf(_T("  –ü–∏–∫–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: %llu –ö–ë\n"), 
             extInfo.PeakProcessMemoryUsed / 1024);
    _tprintf(_T("  –ü–∏–∫–æ–≤–æ–µ —Ä–∞–±–æ—á–µ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ: %llu –ö–ë\n"), 
             extInfo.PeakJobMemoryUsed / 1024);
    
    // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Job
    DWORD processListSize = 0;
    GetInformationJobObject(g_hCurrentJob, 
                           JobObjectBasicProcessIdList,
                           NULL, 0, &processListSize);
    
    if (processListSize > 0)
    {
        PJOBOBJECT_BASIC_PROCESS_ID_LIST processList = 
            (PJOBOBJECT_BASIC_PROCESS_ID_LIST)malloc(processListSize);
        
        if (processList && QueryInformationJobObject(g_hCurrentJob, 
                                                    JobObjectBasicProcessIdList,
                                                    processList, 
                                                    processListSize,
                                                    NULL))
        {
            _tprintf(_T("\n–ü—Ä–æ—Ü–µ—Å—Å—ã –≤ Job (%lu):\n"), processList->NumberOfProcessIdsInList);
            for (DWORD i = 0; i < processList->NumberOfProcessIdsInList; i++)
            {
                _tprintf(_T("  PID: %lu\n"), processList->ProcessIdList[i]);
                
                // –ü–æ–ª—É—á–∞–µ–º –∏–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞
                HANDLE hProcess = OpenProcess(PROCESS_QUERY_INFORMATION | 
                                             PROCESS_VM_READ,
                                             FALSE, 
                                             processList->ProcessIdList[i]);
                if (hProcess)
                {
                    TCHAR processName[MAX_PATH] = _T("–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ");
                    DWORD size = MAX_PATH;
                    QueryFullProcessImageName(hProcess, 0, processName, &size);
                    _tprintf(_T("    –ò–º—è: %s\n"), processName);
                    CloseHandle(hProcess);
                }
            }
        }
        
        if (processList) free(processList);
    }
    
    _tprintf(_T("\n‚úì –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω. –í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ Job –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è.\n"));
}

// –§—É–Ω–∫—Ü–∏—è 4: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Job
void JobSecurityDemo()
{
    _tprintf(_T("\n=== –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –í JOB-–û–ë–™–ï–ö–¢–ê–• ===\n\n"));
    
    if (!g_hCurrentJob)
    {
        _tprintf(_T("–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ Job-–æ–±—ä–µ–∫—Ç (–ø—É–Ω–∫—Ç 1 –º–µ–Ω—é).\n"));
        return;
    }
    
    _tprintf(_T("Job-–æ–±—ä–µ–∫—Ç—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:\n\n"));
    
    // 1. UI –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
    _tprintf(_T("1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:\n"));
    
    JOBOBJECT_BASIC_UI_RESTRICTIONS uiRestrictions = { 0 };
    uiRestrictions.UIRestrictionsClass = 
        JOB_OBJECT_UILIMIT_DESKTOP |          // –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–±–æ—á–∏–µ —Å—Ç–æ–ª—ã
        JOB_OBJECT_UILIMIT_DISPLAYSETTINGS |  // –ù–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏—Å–ø–ª–µ—è
        JOB_OBJECT_UILIMIT_EXITWINDOWS |      // –ù–µ–ª—å–∑—è –≤—ã–∫–ª—é—á–∞—Ç—å/–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å
        JOB_OBJECT_UILIMIT_GLOBALATOMS |      // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∞—Ç–æ–º–æ–≤
        JOB_OBJECT_UILIMIT_HANDLES |          // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤
        JOB_OBJECT_UILIMIT_READCLIPBOARD |    // –ù–µ–ª—å–∑—è —á–∏—Ç–∞—Ç—å –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
        JOB_OBJECT_UILIMIT_SYSTEMPARAMETERS | // –ù–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        JOB_OBJECT_UILIMIT_WRITECLIPBOARD;    // –ù–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
    
    if (SetInformationJobObject(g_hCurrentJob, 
                               JobObjectBasicUIRestrictions,
                               &uiRestrictions, 
                               sizeof(uiRestrictions)))
    {
        _tprintf(_T("   ‚úì –ü—Ä–∏–º–µ–Ω–µ–Ω—ã UI –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:\n"));
        _tprintf(_T("     ‚Ä¢ –ó–∞–ø—Ä–µ—â–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞\n"));
        _tprintf(_T("     ‚Ä¢ –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∏—Å—Ç–µ–º—ã\n"));
        _tprintf(_T("     ‚Ä¢ –ó–∞–ø—Ä–µ—â–µ–Ω–æ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞\n"));
        _tprintf(_T("     ‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º\n"));
    }
    
    // 2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    _tprintf(_T("\n2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:\n"));
    
    // –°–æ–∑–¥–∞–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Job
    HANDLE hToken = NULL;
    if (OpenProcessToken(GetCurrentProcess(), TOKEN_ALL_ACCESS, &hToken))
    {
        // –°–æ–∑–¥–∞–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω (—É–±–∏—Ä–∞–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
        HANDLE hRestrictedToken = NULL;
        if (CreateRestrictedToken(hToken, 
                                 DISABLE_MAX_PRIVILEGE, 
                                 0, NULL, 0, NULL, 0, NULL, 
                                 &hRestrictedToken))
        {
            JOBOBJECT_SECURITY_LIMIT_INFORMATION securityLimits = { 0 };
            securityLimits.SecurityLimitFlags = 
                JOB_OBJECT_SECURITY_NO_ADMIN |
                JOB_OBJECT_SECURITY_RESTRICTED_TOKEN |
                JOB_OBJECT_SECURITY_ONLY_TOKEN;
            
            securityLimits.JobToken = hRestrictedToken;
            
            if (SetInformationJobObject(g_hCurrentJob, 
                                       JobObjectSecurityLimitInformation,
                                       &securityLimits, 
                                       sizeof(securityLimits)))
            {
                _tprintf(_T("   ‚úì –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:\n"));
                _tprintf(_T("     ‚Ä¢ –ü—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º\n"));
                _tprintf(_T("     ‚Ä¢ –ó–∞–ø—Ä–µ—â–µ–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏\n"));
                _tprintf(_T("     ‚Ä¢ –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è Job\n"));
            }
            
            CloseHandle(hRestrictedToken);
        }
        CloseHandle(hToken);
    }
    
    // 3. SID —Å–ø–∏—Å–∫–∏
    _tprintf(_T("\n3. –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ SID:\n"));
    
    // –ü–æ–ª—É—á–∞–µ–º SID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    HANDLE hTokenUser = NULL;
    if (OpenProcessToken(GetCurrentProcess(), TOKEN_QUERY, &hTokenUser))
    {
        DWORD tokenInfoSize = 0;
        GetTokenInformation(hTokenUser, TokenUser, NULL, 0, &tokenInfoSize);
        
        if (tokenInfoSize > 0)
        {
            PTOKEN_USER pTokenUser = (PTOKEN_USER)malloc(tokenInfoSize);
            if (pTokenUser && GetTokenInformation(hTokenUser, TokenUser, 
                                                 pTokenUser, tokenInfoSize, NULL))
            {
                JOBOBJECT_GROUPS_INFORMATION groupInfo = { 0 };
                groupInfo.Groups = pTokenUser->User.Sid;
                
                if (SetInformationJobObject(g_hCurrentJob, 
                                           JobObjectGroupInformation,
                                           &groupInfo, 
                                           sizeof(groupInfo)))
                {
                    _tprintf(_T("   ‚úì –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å SID:\n"));
                    _tprintf(_T("     ‚Ä¢ –ü—Ä–æ—Ü–µ—Å—Å—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã SID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n"));
                }
            }
            if (pTokenUser) free(pTokenUser);
        }
        CloseHandle(hTokenUser);
    }
    
    _tprintf(_T("\n‚úì –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Job –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞. –ü—Ä–æ—Ü–µ—Å—Å—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã.\n"));
}

// –§—É–Ω–∫—Ü–∏—è 5: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã
void SandboxDemo()
{
    _tprintf(_T("\n=== –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ü–ï–°–û–ß–ù–ò–¶–´ (SANDBOX) ===\n\n"));
    
    if (!g_hCurrentJob)
    {
        _tprintf(_T("–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ Job-–æ–±—ä–µ–∫—Ç (–ø—É–Ω–∫—Ç 1 –º–µ–Ω—é).\n"));
        return;
    }
    
    _tprintf(_T("–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ (–ø–µ—Å–æ—á–Ω–∏—Ü–µ):\n\n"));
    
    _tprintf(_T("–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –∫ –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ:\n"));
    _tprintf(_T("(–Ω–∞–ø—Ä–∏–º–µ—Ä, notepad.exe –∏–ª–∏ calc.exe): "));
    
    TCHAR appPath[MAX_PATH];
    if (!_fgetts(appPath, MAX_PATH, stdin))
    {
        _tprintf(_T("–û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞.\n"));
        return;
    }
    
    // –£–±–∏—Ä–∞–µ–º —Å–∏–º–≤–æ–ª –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏
    size_t len = _tcslen(appPath);
    if (len > 0 && appPath[len - 1] == _T('\n'))
    {
        appPath[len - 1] = _T('\0');
    }
    
    if (_tcslen(appPath) == 0)
    {
        _tcscpy_s(appPath, MAX_PATH, _T("notepad.exe"));
    }
    
    _tprintf(_T("\n–ó–∞–ø—É—Å–∫–∞–µ–º '%s' –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ...\n"), appPath);
    
    // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å
    STARTUPINFO si = { sizeof(si) };
    PROCESS_INFORMATION pi = { 0 };
    
    BOOL success = CreateProcess(
        NULL,
        appPath,
        NULL,
        NULL,
        FALSE,
        CREATE_SUSPENDED,  // –°–æ–∑–¥–∞–µ–º –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º
        NULL,
        NULL,
        &si,
        &pi
    );
    
    if (!success)
    {
        PrintError("CreateProcess", GetLastError());
        return;
    }
    
    _tprintf(_T("‚úì –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω. PID: %lu\n"), pi.dwProcessId);
    
    // –ù–∞–∑–Ω–∞—á–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å –≤ Job
    if (!AssignProcessToJobObject(g_hCurrentJob, pi.hProcess))
    {
        PrintError("AssignProcessToJobObject", GetLastError());
        
        // –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –∑–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å
        TerminateProcess(pi.hProcess, 0);
        CloseHandle(pi.hProcess);
        CloseHandle(pi.hThread);
        return;
    }
    
    _tprintf(_T("‚úì –ü—Ä–æ—Ü–µ—Å—Å –Ω–∞–∑–Ω–∞—á–µ–Ω –≤ Job '%s'\n"), g_JobName);
    _tprintf(_T("‚úì –í—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Job –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ —ç—Ç–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É\n\n"));
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
    _tprintf(_T("–ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã:\n"));
    _tprintf(_T("1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è CPU (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)\n"));
    _tprintf(_T("2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏\n"));
    _tprintf(_T("3. UI –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ)\n"));
    _tprintf(_T("4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏\n"));
    _tprintf(_T("5. –ê–≤—Ç–æ–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ Job\n"));
    
    // –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
    ResumeThread(pi.hThread);
    
    _tprintf(_T("\n–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.\n"));
    _tprintf(_T("–ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å Job (–ø—É–Ω–∫—Ç 6).\n"));
    
    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã (–ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –≤ Job)
    CloseHandle(pi.hProcess);
    CloseHandle(pi.hThread);
}

// –§—É–Ω–∫—Ü–∏—è 6: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ Job
void TerminateJobDemo()
{
    _tprintf(_T("\n=== –ó–ê–í–ï–†–®–ï–ù–ò–ï JOB –ò –í–°–ï–• –ü–†–û–¶–ï–°–°–û–í ===\n\n"));
    
    if (!g_hCurrentJob)
    {
        _tprintf(_T("–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ Job-–æ–±—ä–µ–∫—Ç–∞.\n"));
        return;
    }
    
    // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º
    JOBOBJECT_BASIC_ACCOUNTING_INFO accountingInfo = { 0 };
    if (QueryInformationJobObject(g_hCurrentJob, 
                                 JobObjectBasicAccountingInformation,
                                 &accountingInfo, 
                                 sizeof(accountingInfo),
                                 NULL))
    {
        _tprintf(_T("–í Job '%s' —Å–µ–π—á–∞—Å %lu –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞(–æ–≤).\n"), 
                 g_JobName, accountingInfo.ActiveProcesses);
    }
    
    _tprintf(_T("\n–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:\n"));
    _tprintf(_T("1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã\n"));
    _tprintf(_T("2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ)\n"));
    _tprintf(_T("3. –¢–æ–ª—å–∫–æ –∑–∞–∫—Ä—ã—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä Job (–ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç—É)\n"));
    _tprintf(_T("–í–∞—à –≤—ã–±–æ—Ä: "));
    
    TCHAR choice[10];
    _fgetts(choice, sizeof(choice) / sizeof(TCHAR), stdin);
    
    switch (_ttoi(choice))
    {
    case 1:
        // –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
        if (TerminateJobObject(g_hCurrentJob, 0))
        {
            _tprintf(_T("‚úì –í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ Job –∑–∞–≤–µ—Ä—à–µ–Ω—ã.\n"));
        }
        else
        {
            PrintError("TerminateJobObject", GetLastError());
        }
        break;
        
    case 2:
        // –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
        _tprintf(_T("–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –∑–∞–∫—Ä—ã—Ç–∏–∏...\n"));
        
        // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
        DWORD processListSize = 0;
        GetInformationJobObject(g_hCurrentJob, 
                               JobObjectBasicProcessIdList,
                               NULL, 0, &processListSize);
        
        if (processListSize > 0)
        {
            PJOBOBJECT_BASIC_PROCESS_ID_LIST processList = 
                (PJOBOBJECT_BASIC_PROCESS_ID_LIST)malloc(processListSize);
            
            if (processList && QueryInformationJobObject(g_hCurrentJob, 
                                                        JobObjectBasicProcessIdList,
                                                        processList, 
                                                        processListSize,
                                                        NULL))
            {
                for (DWORD i = 0; i < processList->NumberOfProcessIdsInList; i++)
                {
                    // –ü—ã—Ç–∞–µ–º—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ
                    HWND hWnd = NULL;
                    DWORD pid = processList->ProcessIdList[i];
                    
                    // –ù–∞—Ö–æ–¥–∏–º –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
                    EnumWindows([](HWND hwnd, LPARAM lParam) -> BOOL {
                        DWORD windowPid;
                        GetWindowThreadProcessId(hwnd, &windowPid);
                        
                        if (windowPid == *(DWORD*)lParam)
                        {
                            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–∫—Ä—ã—Ç–∏–∏
                            PostMessage(hwnd, WM_CLOSE, 0, 0);
                        }
                        return TRUE; // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ
                    }, (LPARAM)&pid);
                }
                
                _tprintf(_T("–°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã. –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥...\n"));
                Sleep(5000);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Å—Ç–∞–ª–∏—Å—å –ª–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã
                JOBOBJECT_BASIC_ACCOUNTING_INFO infoAfter = { 0 };
                if (QueryInformationJobObject(g_hCurrentJob, 
                                             JobObjectBasicAccountingInformation,
                                             &infoAfter, 
                                             sizeof(infoAfter),
                                             NULL) && 
                    infoAfter.ActiveProcesses > 0)
                {
                    _tprintf(_T("–û—Å—Ç–∞–ª–æ—Å—å %lu –ø—Ä–æ—Ü–µ—Å—Å–∞(–æ–≤). –ó–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ.\n"), 
                             infoAfter.ActiveProcesses);
                    TerminateJobObject(g_hCurrentJob, 0);
                }
            }
            
            if (processList) free(processList);
        }
        _tprintf(_T("‚úì Job –∑–∞–≤–µ—Ä—à–µ–Ω.\n"));
        break;
        
    case 3:
        // –ü—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã–≤–∞–µ–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
        _tprintf(_T("–î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä Job –∑–∞–∫—Ä—ã—Ç. –ü—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç—É.\n"));
        break;
        
    default:
        _tprintf(_T("–û—Ç–º–µ–Ω–µ–Ω–æ.\n"));
        return;
    }
    
    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä Job
    CloseHandle(g_hCurrentJob);
    g_hCurrentJob = NULL;
    _tcscpy_s(g_JobName, 256, _T("DemoJob"));
    
    _tprintf(_T("\nJob-–æ–±—ä–µ–∫—Ç –∑–∞–∫—Ä—ã—Ç –∏ –æ—á–∏—â–µ–Ω.\n"));
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –≤—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ Job
void PrintJobInfo(HANDLE hJob)
{
    _tprintf(_T("\n=== –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û JOB ===\n\n"));
    
    // –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    JOBOBJECT_BASIC_ACCOUNTING_INFORMATION basicInfo = { 0 };
    if (QueryInformationJobObject(hJob, 
                                  JobObjectBasicAccountingInformation,
                                  &basicInfo, 
                                  sizeof(basicInfo),
                                  NULL))
    {
        _tprintf(_T("–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:\n"));
        _tprintf(_T("  –ê–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: %lu\n"), basicInfo.ActiveProcesses);
        _tprintf(_T("  –í—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: %lu\n"), basicInfo.TotalProcesses);
        _tprintf(_T("  –ó–∞–≤–µ—Ä—à–µ–Ω–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: %lu\n"), basicInfo.TotalTerminatedProcesses);
        
        _tprintf(_T("  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:\n"));
        _tprintf(_T("    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ: %.2f —Å–µ–∫\n"), 
                 (double)basicInfo.TotalUserTime.QuadPart / 10000000.0);
        _tprintf(_T("    –í —è–¥—Ä–µ: %.2f —Å–µ–∫\n"), 
                 (double)basicInfo.TotalKernelTime.QuadPart / 10000000.0);
    }
    
    // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö
    JOBOBJECT_BASIC_LIMIT_INFORMATION limitInfo = { 0 };
    if (QueryInformationJobObject(hJob, 
                                  JobObjectBasicLimitInformation,
                                  &limitInfo, 
                                  sizeof(limitInfo),
                                  NULL))
    {
        _tprintf(_T("\n–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:\n"));
        
        if (limitInfo.LimitFlags & JOB_
–ò–∑–≤–∏–Ω–∏—Ç–µ –∑–∞ –æ–±—Ä—ã–≤! –ü—Ä–æ–¥–æ–ª–∂—É –∫–æ–¥ —Å —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è:

```c
        _tprintf(_T("  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: "));
        switch (limitInfo.PriorityClass)
        {
        case IDLE_PRIORITY_CLASS: _tprintf(_T("IDLE\n")); break;
        case NORMAL_PRIORITY_CLASS: _tprintf(_T("NORMAL\n")); break;
        case HIGH_PRIORITY_CLASS: _tprintf(_T("HIGH\n")); break;
        case REALTIME_PRIORITY_CLASS: _tprintf(_T("REALTIME\n")); break;
        default: _tprintf(_T("%lu\n"), limitInfo.PriorityClass); break;
        }
        
        if (limitInfo.LimitFlags & JOB_OBJECT_LIMIT_ACTIVE_PROCESS)
            _tprintf(_T("  –ú–∞–∫—Å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: %lu\n"), limitInfo.ActiveProcessLimit);
        
        if (limitInfo.LimitFlags & JOB_OBJECT_LIMIT_PROCESS_TIME)
            _tprintf(_T("  –õ–∏–º–∏—Ç CPU –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å: %.1f —Å–µ–∫\n"), 
                     (double)limitInfo.PerProcessUserTimeLimit.QuadPart / 10000000.0);
        
        if (limitInfo.LimitFlags & JOB_OBJECT_LIMIT_JOB_TIME)
            _tprintf(_T("  –õ–∏–º–∏—Ç CPU –Ω–∞ Job: %.1f —Å–µ–∫\n"), 
                     (double)limitInfo.PerJobUserTimeLimit.QuadPart / 10000000.0);
    }
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –≤—ã–≤–æ–¥ –æ—à–∏–±–∫–∏
void PrintError(const char* functionName, DWORD errorCode)
{
    LPTSTR errorMsg = NULL;
    
    DWORD chars = FormatMessage(
        FORMAT_MESSAGE_ALLOCATE_BUFFER | 
        FORMAT_MESSAGE_FROM_SYSTEM |
        FORMAT_MESSAGE_IGNORE_INSERTS,
        NULL,
        errorCode,
        MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),
        (LPTSTR)&errorMsg,
        0,
        NULL
    );
    
    if (chars > 0 && errorMsg != NULL)
    {
        wprintf(L"–û—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ %hs (–∫–æ–¥ %lu): %ls", functionName, errorCode, errorMsg);
        LocalFree(errorMsg);
    }
    else
    {
        printf("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ %s: –∫–æ–¥ %lu\n", functionName, errorCode);
    }
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –≤—ã–≤–æ–¥ –º–µ–Ω—é
void PrintMenu()
{
    _tprintf(_T("\n=== –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ ===\n\n"));
    
    _tprintf(_T("1. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π Job-–æ–±—ä–µ–∫—Ç\n"));
    _tprintf(_T("2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤\n"));
    _tprintf(_T("3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤ Job\n"));
    _tprintf(_T("4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Job\n"));
    _tprintf(_T("5. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã\n"));
    _tprintf(_T("6. –ó–∞–≤–µ—Ä—à–∏—Ç—å Job –∏ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã\n"));
    _tprintf(_T("7. –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Job\n"));
    _tprintf(_T("8. –í—ã—Ö–æ–¥\n\n"));
}
```

---

## üîß **–ö–û–ú–ü–ò–õ–Ø–¶–ò–Ø –ò –ó–ê–ü–£–°–ö:**

### **–í Visual Studio:**
1. –°–æ–∑–¥–∞–π—Ç–µ **–∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
2. –í–∫–ª—é—á–∏—Ç–µ –æ–ø—Ü–∏—é **"Character Set: Use Unicode Character Set"**
3. –î–æ–±–∞–≤—å—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: `kernel32.lib`, `user32.lib`, `psapi.lib`, `advapi32.lib`
4. –í—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–Ω—ã–π –∫–æ–¥ –≤ `main.c`
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:**
```bash
cl lesson4.c /link kernel32.lib user32.lib psapi.lib advapi32.lib /D UNICODE /D _UNICODE
```

---

## üìã **–ê–ù–ê–õ–ò–ó –ü–†–û–ì–†–ê–ú–ú–´:**

1. –ü–æ—á–µ–º—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `CreateBasicJob()` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥ `JOB_OBJECT_LIMIT_KILL_ON_JOB_CLOSE`?
2. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–≤—ã—Å–∏—Ç—å –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤ Job?
3. –ü–æ—á–µ–º—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `CREATE_SUSPENDED`?
4. –ö–∞–∫ UI –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å —Å–∏—Å—Ç–µ–º–æ–π?
5. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `TerminateJobObject()` –∏ –ø—Ä–æ—Å—Ç—ã–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ Job?

---

## üéØ **–ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –ó–ê–î–ê–ù–ò–Ø –î–õ–Ø –°–ê–ú–û–°–¢–û–Ø–¢–ï–õ–¨–ù–û–ô –†–ê–ë–û–¢–´:**

### **–£—Ä–æ–≤–µ–Ω—å 1: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞**
1. –î–æ–±–∞–≤—å—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Job –≤ —Ñ–∞–π–ª –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
3. –î–æ–±–∞–≤—å—Ç–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (ASCII-–≥—Ä–∞—Ñ–∏–∫–∏)

### **–£—Ä–æ–≤–µ–Ω—å 2: –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
1. –†–µ–∞–ª–∏–∑—É–π—Ç–µ "–ø—Ä–æ—Ñ–∏–ª–∏ –ø–µ—Å–æ—á–Ω–∏—Ü—ã" (Low/Medium/High security)
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∫–≤–æ—Ç –Ω–∞ –¥–∏—Å–∫–æ–≤—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥ –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Job
3. –î–æ–±–∞–≤—å—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è Job-–æ–±—ä–µ–∫—Ç–æ–≤ (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ Jobs)

### **–£—Ä–æ–≤–µ–Ω—å 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∑–∞–¥–∞—á–∏**
1. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º "–±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞" –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏–∑–æ–ª—è—Ü–∏–∏ —Å–µ—Ç–∏ –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Job
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫ AppLocker —á–µ—Ä–µ–∑ Job

### **–£—Ä–æ–≤–µ–Ω—å 4: –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞**
1. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** –ú–∏–Ω–∏-–∞–Ω–∞–ª–æ–≥ Docker –¥–ª—è Windows —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Job-–æ–±—ä–µ–∫—Ç–æ–≤
2. **–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞–¥–∞–Ω–∏–π:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–Ω—ã–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏ —Å –∫–≤–æ—Ç–∞–º–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
3. **–ó–∞—â–∏—â–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä:** –ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–µ—Å–æ—á–Ω–∏—Ü–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º Job
4. **–ú–æ–Ω–∏—Ç–æ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Job

---

## üí° **–°–û–í–ï–¢–´ –ü–û –í–´–ü–û–õ–ù–ï–ù–ò–Æ:**

1. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ VM:** –í—Å–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –∏–∑–æ–ª—è—Ü–∏–µ–π –ø—Ä–æ–≤–æ–¥–∏—Ç–µ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
2. **–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ:** –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑–æ–≤—ã–π Job –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Process Explorer:** –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Job
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏:** –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤
5. **–ò–∑—É—á–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:** MSDN —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª–∏ –ø–æ –≤—Å–µ–º —Ñ–ª–∞–≥–∞–º Job-–æ–±—ä–µ–∫—Ç–æ–≤

---

## ‚ö†Ô∏è **–í–ê–ñ–ù–´–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø:**

1. **–§–ª–∞–≥ `KILL_ON_JOB_CLOSE`:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–Ω–∏–º–∞–µ—Ç–µ –µ–≥–æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:** –°–ª–∏—à–∫–æ–º –∂–µ—Å—Ç–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–±–æ—è–º
3. **UI –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ UI
4. **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:** –ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –ø–æ–º–µ—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ Job
5. **–í–ª–æ–∂–µ–Ω–Ω—ã–µ Jobs:** –ú–æ–≥—É—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üèÜ **–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:**

### **–î–ª—è —É–≥–ª—É–±–ª–µ–Ω–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è:**
1. **Nested Jobs:** –†–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ Job-–æ–±—ä–µ–∫—Ç–∞–º–∏
2. **Job Notifications:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö –≤ Job
3. **Resource Accounting:** –î–µ—Ç–∞–ª—å–Ω—ã–π —É—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
4. **Job Object Security:** –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. **Job Objects in Services:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Windows —Å–ª—É–∂–±–∞—Ö

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
1. **GUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –æ–±–æ–ª–æ—á–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Jobs
2. **–°–µ—Ç–µ–≤–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –£–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Jobs –ø–æ —Å–µ—Ç–∏
3. **–ü–ª–∞–≥–∏–Ω—ã:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
4. **–°–∫—Ä–∏–ø—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ PowerShell –∏–ª–∏ Python
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Docker:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Job-–æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è Windows-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

---

## üìä **–ü–†–ò–ú–ï–†–´ –¢–ï–°–¢–û–í–´–• –°–¶–ï–ù–ê–†–ò–ï–í:**

### **–ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã:**
1. –°–æ–∑–¥–∞–Ω–∏–µ Job –∏ –∑–∞–ø—É—Å–∫ notepad.exe
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
3. –¢–µ—Å—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π CPU (–∑–∞–ø—É—Å–∫ stress-—Ç–µ—Å—Ç–∞)
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–∞–º—è—Ç–∏
5. –¢–µ—Å—Ç UI –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (–ø–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –±—É—Ñ–µ—Ä—É –æ–±–º–µ–Ω–∞)

### **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Å—Ç—ã:**
1. –ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–µ—Å–æ—á–Ω–∏—Ü–µ
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ Jobs
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏
4. –¢–µ—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
5. –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
1. –°–æ–≤–º–µ—Å—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Jobs
2. –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –º–µ–∂–¥—É Jobs
3. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π

---

## üîß **–ü–û–õ–ï–ó–ù–´–ï –ò–ù–°–¢–†–£–ú–ï–ù–¢–´:**

1. **Process Explorer** ‚Äî –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Job
2. **Process Monitor** ‚Äî –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
3. **PerfMon** ‚Äî –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **WinDbg** ‚Äî –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
5. **RAMMap** ‚Äî –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

---

**–≠—Ç–æ—Ç —É—Ä–æ–∫ –¥–∞–µ—Ç –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Windows. Job-–æ–±—ä–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–µ—Å–æ—á–Ω–∏—Ü–∞—Ö –∏ —Å–∏—Å—Ç–µ–º–∞—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏. –£—Å–ø–µ—à–Ω–æ–µ –æ—Å–≤–æ–µ–Ω–∏–µ —Ç–µ–º—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏.**

–£–¥–∞—á–∏ –≤ –æ—Å–≤–æ–µ–Ω–∏–∏! üöÄ
